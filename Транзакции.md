Домашнее задание Транзакции

Цель: Заполнение своего проекта данными


Описание/Пошаговая инструкция выполнения домашнего задания:


1. Описать пример транзакции из своего проекта с изменением данных в нескольких таблицах. Реализовать в виде хранимой процедуры.



use new_year_decoration;

drop procedure if exists test_insert;


-----Создание процедуры test_insert


delimiter //
CREATE procedure test_insert()
BEGIN
INSERT INTO spruce
(name_spruce, id_manufactures, price)
VALUES ('Artificial Christmas Tree Bibalu, 30cm', 1, 612),
       ('Christmas tree decor blue with snow 20cm', 2, 342),
       ('Spruce Eva Valpes 120cm', 3, 3051),
       ('Artificial Christmas tree 120cm, Winter fairy tale', 4, 3490),
('Faux christmas tree', 4, 550),
('Faux christmas tree', 4, 551),
('Faux christmas tree', 4, 552),
('Faux christmas tree', 4, 553),
('Faux christmas tree', 4, 554),
('Faux christmas tree', 4, 555),
('Faux christmas tree', 4, 556),
('Faux christmas tree', 4, 557),
('Faux christmas tree', 4, 558),
('Faux christmas tree', 4, 559),
('Faux christmas tree', 4, 700),
('Faux christmas tree', 4, 701),
('Faux christmas tree', 4, 170),
('Faux christmas tree', 4, 710),
('Faux christmas tree', 4, 720),
('Faux christmas tree', 4, 723),
('Faux christmas tree', 4, 730),
('Faux christmas tree', 4, 740),
('Faux christmas tree', 4, 750),
('Faux christmas tree', 4, 780),
('Faux christmas tree', 6, 90),
('Faux christmas tree', 6, 900),
('Faux christmas tree', 6, 980),
('Faux christmas tree', 6, 970),
('Faux christmas tree', 6, 950),
('Faux christmas tree', 6, 930),
('Faux christmas tree', 6, 940),
('Faux christmas tree', 6, 960),
('Faux christmas tree', 6, 920),
('Faux christmas tree', 6, 910),
('Faux christmas tree', 6, 1500),
('Faux christmas tree', 6, 1010),
('Faux christmas tree', 3, 1120),
('Faux christmas tree', 3, 1370),
('Faux christmas tree', 3, 1690),
('Faux christmas tree', 3, 1478),
('Faux christmas tree', 3, 1589),
('Faux christmas tree', 3, 1467),
('Faux christmas tree', 3, 1599),
('Faux christmas tree', 3, 1467),
('Pine', 8, 1578),
('Pine', 8, 1245),
('Pine', 8, 1567),
('Pine', 8, 124),
('Pine', 8, 1257),
('Pine', 8, 1487),
('Pine', 8, 1455),
('Pine', 8, 1234),
('Pine', 8, 1400),
('Pine', 8, 1500),
('Pine', 8, 1350),
('Pine', 8, 1460),
('Pine', 8, 1460),
('Pine', 8, 1470),
('Pine', 8, 1470),
('Pine', 8, 1800),
('Pine', 8, 1580),
('Pine', 8, 1830),
('Pine', 8, 1850),
('Pine', 8, 1843),
('Pine', 8, 1954),
('Pine', 8, 1850),
('Pine', 8, 1840),
('Pine', 8, 1467);
SELECT * FROM spruce;
END
//
delimiter ;


![Создание процедуры test_insert](Создание%20процедуры%20test_insert.png)


set autocommit = 0;


-----Запуск транзакции


begin;

call test_insert();

SELECT count(*) FROM spruce;

commit;


![Запуск процедуры](запуск%20процедуры.png)


![Результат транзакции](Результат%20транзакции.png)



